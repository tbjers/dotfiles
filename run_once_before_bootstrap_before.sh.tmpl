#!/usr/bin/env bash

. "{{ .chezmoi.sourceDir }}/script_utils.sh"

echo "${green}Upgrading pip${reset}"
python3 -m pip install --quiet --no-input --upgrade pip

echo "${green}Installing LSP/lint/formatters${reset}"
pip install --quiet --no-input --upgrade beautysh black isort
if ! command -v pyenv &>/dev/null; then
    echo "${green}Installing pyenv${reset}"
    curl https://pyenv.run | bash
fi

if ! command -v dotenv-linter &>/dev/null; then
    echo "${green}Installing dotenv-linter${reset}"
    curl -sSfL https://git.io/JLbXn | sh -s -- -b "${HOME}/.local/bin"
fi

echo "${green}Installing CI/CD Python tools${reset}"
pip install --quiet --no-input --upgrade ggshield pre-commit

# -*-mode:shellscript-*- vim:ft=bash:
